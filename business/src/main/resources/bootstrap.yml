spring:
  application:
    name: business
  profiles:
    #启动环境，nacos会根据环境读不同的配置dataId: business-dev.yml
    active: dev
    #注册中心的名字
  cloud:
    nacos:
      config:
        server-addr: 127.0.0.1:8848
        file-extension: yml
        namespace: train
      discovery:
        server-addr: 127.0.0.1:8848
        namespace: train
    #配置sentinel控制台
    sentinel:
      transport:
        port: 8719
        dashboard: 127.0.0.1:18080
      #sentinel + nacos  将限流规则持久化到nacos
      datasource:
        flow:
          nacos:
            server-addr: 127.0.0.1:8848
            namespace: train
            group-id: DEFAULT_GROUP
            data-id: sentinel-business-flow
            rule-type: flow
      # 流控模式是链路时，必须关闭这个配置，默认是true，为true时可以在控台-簇点链路界面看到所有请求路径
      web-context-unify: false

#事务组名称  一个项目多个模板配置成同一个事务组
seata:
  registry:
    type: nacos
    nacos:
      application: seata-server
      server-addr: 127.0.0.1:8848
      group: SEATA_GROUP
      namespace: train
      cluster: default
      username: nacos
      password: nacos
  config:
    type: nacos
    nacos:
      server-addr: 127.0.0.1:8848
      namespace: train
      group: SEATA_GROUP
      username: nacos
      password: nacos
      context-path:
      data-id: seataServer.properties
#  tx-service-group: train_group

